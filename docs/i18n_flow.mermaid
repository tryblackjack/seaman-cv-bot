graph TB
    Start[üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç /start] --> DetectLang{üåç –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞}
    
    DetectLang -->|Telegram API| GetLangCode[–ü–æ–ª—É—á–∏—Ç—å language_code<br/>ru, uk, en, etc.]
    GetLangCode --> CheckSupported{–Ø–∑—ã–∫<br/>–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è?}
    
    CheckSupported -->|–î–∞| SetLang[–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —è–∑—ã–∫<br/>context.user_data['language']]
    CheckSupported -->|–ù–µ—Ç| DefaultLang[–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å<br/>English –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é]
    
    SetLang --> LoadTranslations[–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã<br/>–∏–∑ i18n_XX.json]
    DefaultLang --> LoadTranslations
    
    LoadTranslations --> ShowMenu[–ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é<br/>–Ω–∞ —è–∑—ã–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
    
    ShowMenu --> UserAction{–î–µ–π—Å—Ç–≤–∏–µ<br/>–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è}
    
    UserAction -->|/language| LanguageMenu[–ü–æ–∫–∞–∑–∞—Ç—å –º–µ–Ω—é<br/>–≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞]
    UserAction -->|–ö–Ω–æ–ø–∫–∞ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞| LanguageMenu
    UserAction -->|/start_apply| ApplyFlow[–ù–∞—á–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å<br/>—Ä–∞—Å—Å—ã–ª–∫–∏ CV]
    
    LanguageMenu --> SelectLang[–í—ã–±–æ—Ä —è–∑—ã–∫–∞:<br/>üá¨üáß EN | üá∑üá∫ RU | üá∫üá¶ UK]
    SelectLang --> UpdateLang[–û–±–Ω–æ–≤–∏—Ç—å<br/>context.user_data['language']]
    UpdateLang --> ConfirmLang[‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ<br/>—Å–º–µ–Ω—ã —è–∑—ã–∫–∞]
    ConfirmLang --> ShowMenu
    
    ApplyFlow --> Step1[üìß –ó–∞–ø—Ä–æ—Å Email<br/>–Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ]
    Step1 --> Step2[üìÇ –ó–∞–ø—Ä–æ—Å CV<br/>–Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ]
    Step2 --> Step3[‚öì –ó–∞–ø—Ä–æ—Å –¥–æ–ª–∂–Ω–æ—Å—Ç–∏<br/>–Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ]
    Step3 --> Step4[üö¢ –ó–∞–ø—Ä–æ—Å –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π<br/>–Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ]
    Step4 --> Processing[üöÄ –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞—Å—Å—ã–ª–∫–∏<br/>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —è–∑—ã–∫–µ]
    Processing --> Complete[üéâ –ó–∞–≤–µ—Ä—à–µ–Ω–æ!<br/>–§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ<br/>–Ω–∞ —è–∑—ã–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]
    
    style Start fill:#e1f5ff
    style DetectLang fill:#fff4e6
    style ShowMenu fill:#e8f5e9
    style LanguageMenu fill:#f3e5f5
    style Complete fill:#e8f5e9
    style Processing fill:#fff3e0
